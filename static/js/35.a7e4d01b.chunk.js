(this["webpackJsonpsam-resto"]=this["webpackJsonpsam-resto"]||[]).push([[35],{1310:function(e,t){},1399:function(e,t,a){"use strict";a.r(t),a.d(t,"StyledMenuBox",(function(){return re})),a.d(t,"SearchResults",(function(){return le}));var n=a(16),r=a.n(n),l=a(89),o=a(31),i=a(12),c=a(19),s=a(1),u=a.n(s),d=a(877),m=a(185),p=a(926),v=a(186),b=a(920),f=a(934),h=a(258),g=a(921),x=a(910),E=a(148),y=a(895),O=a(897),j=a(1335),k=a(7),w=a(490),I=a(1074),N=a(71),B=a(1129),C=a(914),S=a(930),A=a(928),_=a(929),R=a(927),D=a(77),T=a(49),z=a(32),P=a(70),F=a.n(P),W=a(39),U=a.n(W),M=a(76),L=a(263),Y=a(264),G=a.n(Y),J=a(979),V=a.n(J),X=a(989),q=a(964),H=a.n(q),K=a(504),Q=a(1309),Z=a.n(Q),$=a(262),ee=Object(d.a)((function(e){var t,a,n,r;return{root:Object(c.a)({padding:"25px"},e.breakpoints.down("xs"),{padding:"10px"}),emojiBox:(t={position:"absolute",width:"100%",bottom:"100%",right:"-65% !important"},Object(c.a)(t,e.breakpoints.down("md"),{right:"-59% !important"}),Object(c.a)(t,e.breakpoints.down("sm"),{right:"-68% !important"}),t),menuShare:Object(c.a)({position:"absolute",right:"16px",top:"16px"},e.breakpoints.down("xs"),{right:"0px",top:"0px"}),sharemodal:{"& button":{textAlign:"center","& svg":{fontSize:"25px"}}},cancelBtn:{position:"absolute",top:0,right:0},box:(a={display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",borderRadius:"10px",cursor:"pointer"},Object(c.a)(a,e.breakpoints.down("sm"),{margin:2}),Object(c.a)(a,"& h6",Object(c.a)({},e.breakpoints.down("sm"),{display:"none"})),Object(c.a)(a,"&:hover",{backgroundColor:"#3F3D3D"}),Object(c.a)(a,"@media(max-width:959px)",{"&:hover":{"& h6":{display:"block"}}}),Object(c.a)(a,"& .activeBoxs",Object(c.a)({},e.breakpoints.down("sm"),{display:"none"})),a),paper:{backgroundColor:"black","& .bodyBox":Object(c.a)({height:"60vh",overflowY:"scroll",padding:"15px"},e.breakpoints.down("sm"),{height:"45vh"}),"& .footerBox":{padding:"15px",borderTop:"1px solid #242526",position:"relative","& button":(n={boxSizing:"border-box",borderRadius:"7px",width:"100%",height:"30px !important"},Object(c.a)(n,"width","30px !important"),Object(c.a)(n,"fontSize","25px"),Object(c.a)(n,e.breakpoints.down("xs"),{height:"30px",fontSize:"18px"}),n),"& .linkBox":{position:"relative",height:"100%",width:"50px",textAlign:"center","& input":{position:"absolute",width:"100%",left:0,top:0,opacity:0,height:"100%"}}},"& .headerbox":{display:"flex",alignItems:"center",padding:"15px","& img":Object(c.a)({width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover"},e.breakpoints.down("xs"),{width:"40px",height:"40px"})},"& .searchBox":{padding:"10px"}},dot:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:"green"},outer:Object(c.a)({height:"48px",width:"100%",borderRadius:"5px",backgroundColor:"#373636",display:"flex",alignItems:"center",justifyContent:"center",margin:0},e.breakpoints.down("xs"),{height:"30px"}),box1:{display:"flex",marginBottom:"30px","& img":Object(c.a)({borderRadius:"50%",height:"35px",width:"35px",marginBottom:"0px"},e.breakpoints.down("xs"),{height:"30px",width:"30px"})},mess:{backgroundColor:"#242526",padding:"10px",borderRadius:"10px 10px 0px 10px",position:"relative","& small":{position:"absolute",color:"#BBB6B6",bottom:"-18px",right:0,fontSize:"10px"},"& button":{position:"absolute",fontSize:"22px",top:"50%",opacity:1,left:"-46px",transform:"translateY(-50%)",width:"40px"}},mess1:{backgroundColor:"#E31A89",padding:"10px",borderRadius:" 10px 10px 10px 0px",position:"relative","& small":{position:"absolute",color:"#BBB6B6",bottom:"-18px",left:0,fontSize:"10px"},"& button":{position:"absolute",fontSize:"22px",top:"50%",opacity:1,width:"40px",right:"-46px",transform:"translateY(-50%)"}},chatLeftBox:(r={overflowY:"scroll",height:"74vh",padding:"10px"},Object(c.a)(r,e.breakpoints.down("sm"),{height:"69vh"}),Object(c.a)(r,e.breakpoints.down("sm"),{height:"auto",display:"flex",overflowX:"scroll"}),Object(c.a)(r,"& .textmsg",Object(c.a)({fontSize:"12px",color:"#838282",width:"100%",maxWidth:"130px",overflow:"hidden",fontWeight:"300",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.breakpoints.down("sm"),{display:"none"})),Object(c.a)(r,"& .chatBox",Object(c.a)({minWidth:"14px",height:"14px",borderRadius:"2px",backgroundColor:"red",textAlign:"center",width:" 14px",fontSize:"8px",display:"flex",alignItems:"center",justifyContent:"center"},e.breakpoints.down("sm"),{position:"absolute",top:0,left:0})),Object(c.a)(r,"& .statusBox",Object(c.a)({height:"10px",borderRadius:"50%",width:"10px",backgroundColor:"#0AB506"},e.breakpoints.down("sm"),{position:"absolute",top:0,left:0})),Object(c.a)(r,"& .chatprofile",{width:"50px",height:"50px",borderRadius:"50%",position:"relative","& img":{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover"}}),r),chatimgBox:{display:"flex",alignItems:"center"},chatimgBoxicon:{display:"flex",alignItems:"center"},profilePic:{display:"flex",alignItems:"center"},nameSection:{marginLeft:"16px","@media(max-width:959px)":{marginLeft:"3px","&:hover":{}}}}})),te=Object(k.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(I.a),ae=Object(k.a)({paper:{border:"1px solid #484849 !important",backgroundColor:"#101010 !important",minWidth:"120px !important"}})((function(e){return u.a.createElement(w.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))}));function ne(e){return!e||0===Object.keys(e).length}function re(e){var t=e.anchorEl,a=e.setAnchorEl,n=e.chat;e.setOpen,e.setOpenShare;return u.a.createElement(ae,{id:"customized-menu",anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:function(){a(null)}},"text"===n.mediaType&&u.a.createElement(te,{onClick:function(){a(null)}},u.a.createElement(H.a,{text:null===n||void 0===n?void 0:n.message},u.a.createElement(B.a,{primary:"Copy",onClick:function(){return M.b.success("Copied")}}))))}function le(e){var t=e.searchResult,a=e.history,n=e.setShowUser;return u.a.createElement("ul",{className:"list-group text-dark",id:"search-list"},(null===t||void 0===t?void 0:t.length)>0&&u.a.createElement(u.a.Fragment,null,null===t||void 0===t?void 0:t.map((function(e,t){return console.log("data--nwe-chat",e),u.a.createElement("li",{key:t,className:"list-group-item",style:{textAlign:"left",zIndex:999},onClick:function(){a.push({pathname:"/chat-history",search:e._id}),n(!0)}},u.a.createElement(v.a,{display:"flex",justifyContent:"space-between"},u.a.createElement(v.a,{display:"flex"},u.a.createElement("img",{src:e.profilePic?e.profilePic:"images/Activity.png",alt:""}),u.a.createElement(h.a,null," ",e.userName?e.userName:e.name))))}))))}t.default=function(){var e,t,a,n,c,d,k,w,I,B,W,Y,J,q,H,Q,te=ee(),ae=Object(s.useContext)(T.a);console.log("user------",ae);var oe=Object(z.h)(),ie=Object(z.g)(),ce=Object(s.useState)(null),se=Object(i.a)(ce,2),ue=se[0],de=se[1],me=Object(s.useState)(),pe=Object(i.a)(me,2),ve=pe[0],be=pe[1],fe=Object(s.useState)(!0),he=Object(i.a)(fe,2),ge=he[0],xe=he[1],Ee=Object(s.useState)(""),ye=Object(i.a)(Ee,2),Oe=ye[0],je=ye[1],ke=Object(s.useState)([]),we=Object(i.a)(ke,2),Ie=we[0],Ne=we[1],Be=Object(s.useState)(""),Ce=Object(i.a)(Be,2),Se=Ce[0],Ae=Ce[1],_e=Object(s.useState)([]),Re=Object(i.a)(_e,2),De=(Re[0],Re[1],Object(s.useState)({})),Te=Object(i.a)(De,2),ze=Te[0],Pe=Te[1];console.log("showChat1----",ze);var Fe=Object(s.useState)({}),We=Object(i.a)(Fe,2),Ue=We[0],Me=We[1],Le=Object(s.useState)(),Ye=Object(i.a)(Le,2),Ge=Ye[0],Je=Ye[1],Ve=Object(s.useState)(!0),Xe=Object(i.a)(Ve,2),qe=Xe[0],He=Xe[1],Ke=Object(s.useState)(),Qe=Object(i.a)(Ke,2),Ze=Qe[0],$e=Qe[1],et=Object(s.useState)(!1),tt=Object(i.a)(et,2),at=tt[0],nt=tt[1],rt=Object(s.useState)(""),lt=Object(i.a)(rt,2),ot=lt[0],it=lt[1],ct=Object(s.useState)(!1),st=Object(i.a)(ct,2),ut=st[0],dt=st[1],mt=u.a.useState(!1),pt=Object(i.a)(mt,2),vt=pt[0],bt=pt[1],ft=u.a.useState(!1),ht=Object(i.a)(ft,2),gt=ht[0],xt=ht[1],Et=Object(s.useState)(""),yt=Object(i.a)(Et,2),Ot=yt[0],jt=yt[1],kt=Object(s.useState)([]),wt=Object(i.a)(kt,2),It=wt[0],Nt=wt[1];console.log("searchUserList",It);var Bt=u.a.useState(void 0),Ct=Object(i.a)(Bt,2),St=Ct[0],At=Ct[1],_t=Object(s.useState)(!1),Rt=Object(i.a)(_t,2),Dt=Rt[0],Tt=Rt[1],zt=Object(s.useState)(!1),Pt=Object(i.a)(zt,2),Ft=Pt[0],Wt=Pt[1],Ut=Object(s.useState)(!0),Mt=Object(i.a)(Ut,2);Mt[0],Mt[1],console.log("showUser----",Ft),Object(s.useEffect)((function(){ae.userData&&ae.chatMessageData&&(qe||Ae(ae.userData._id),Lt())}),[ae.userData,Ge,ae.chatMessageData]),Object(s.useEffect)((function(){Ge&&jt("")}),[Ge]);var Lt=function(){if(ae.chatMessageData){var e,t=ae.chatMessageData,a=void 0;if(Ge&&0===(a=t.filter((function(e){return e.senderId._id===Ge._id||e.receiverId._id===Ge._id}))).length){var n={messages:[],receiverId:ae.userData,senderId:Ge,unReadCount:0};t.splice(0,0,n)}if(Ge)(null===(e=a)||void 0===e?void 0:e.length)>0?Pe(a[0]):Pe(t[0]);else if(ne(ze)&&ne(Ge))Pe(t[0]);else if(!ne(ze)){var r=ae.chatMessageData.filter((function(e){return e._id===(null===ze||void 0===ze?void 0:ze._id)}));Pe(r[0])}Ne(t)}xe(!1)};Object(s.useEffect)((function(){return ne(ze)||Tt(!1),function(){Tt(!0)}}),[ze]);var Yt=function(){var e=Object(o.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(null===ze||void 0===ze||null===(t=ze.messages)||void 0===t?void 0:t.map(function(){var e=Object(o.a)(r.a.mark((function e(t,a){var n,o,i,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("text"!=t.mediaType){e.next=14;break}return n=Object(l.a)({},t),o=t.message,i=(null===n||void 0===n?void 0:n.receiverId)==(null===ze||void 0===ze?void 0:ze.senderId._id)?null===ze||void 0===ze?void 0:ze.receiverId._id:null===ze||void 0===ze?void 0:ze.senderId._id,e.next=6,Z.a.AES.decrypt(o,i);case 6:return c=e.sent,e.next=9,c.toString(Z.a.enc.Utf8);case 9:return s=e.sent,n.message=s,e.abrupt("return",n);case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 3:(a=e.sent)&&(n=Object(l.a)(Object(l.a)({},ze),{},{messages:a}),Me(n)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){ze&&Yt()}),[ze]);var Gt=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U()({method:"GET",url:F.a.offLineUser,headers:{token:window.localStorage.getItem("token")}});case 3:e.sent.data.responseCode,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){return function(){Gt()}}),[]);var Jt=function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get(F.a.getOtheruserprofile+t);case 3:200===(a=e.sent).data.responseCode&&Je(a.data.result),He(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),He(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Vt=function(){var e=Object(o.a)(r.a.mark((function e(t,a,n){var l,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&n.preventDefault(),Tt(!0),!t&&Oe||Oe.length>5?(i=Z.a.AES.encrypt(t,null===ae||void 0===ae||null===(l=ae.userData)||void 0===l?void 0:l._id),c={senderId:Se,receiverId:Oe,message:a?t:i.toString(),mediaType:a?"image":""},ie.replace({pathname:"/chat-history",search:""}),U()({method:"POST",url:F.a.oneToOneChatApi,data:c,headers:{"content-type":"application/json"}}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.response_code)&&(Pe(),Je()),dt(!1),it(""),nt(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){M.b.error("Sorry, No Receiver found")}))):M.b.error("Sorry, No Receiver found");case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Xt=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get(F.a.readChat+t,{cancelToken:a&&a.token,headers:{token:window.localStorage.getItem("token")}});case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){var e=U.a.CancelToken.source();return ne(ze)||(ze&&ze.receiverId._id&&ze.receiverId._id!==ae.userData._id?je(ze.receiverId._id):ze&&ze.senderId._id&&ze.senderId._id!==ae.userData._id&&je(ze.senderId._id),ze&&ze._id&&parseFloat(ze.unReadCount)),function(){e.cancel()}}),[ze]),Object(s.useEffect)((function(){if(oe.search){var e=oe.search.split("?");e[1]?Jt(e[1]):He(!1)}else He(!1)}),[oe]);var qt=function(e){Pe(e),Ge||ie.replace({pathname:"/chat-history",search:""})};Object(s.useEffect)((function(){(null===ze||void 0===ze?void 0:ze._id)&&Xt(ze._id)}),[null===ze||void 0===ze?void 0:ze._id]);var Ht=function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get(F.a.searchUserNameForsignUpTime,{cancelToken:t&&t.token,headers:{token:window.localStorage.getItem("token")},params:{search:Ot}},{headers:{token:window.localStorage.getItem("token")}});case 3:200===(a=e.sent).data.responseCode?a.data.result.docs&&(Nt(a.data.result.docs),console.log("Newdata find",a.data.result.docs)):Nt([]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Nt([]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){var e=U.a.CancelToken.source();return Ot.length>0&&Ht(e),function(){e.cancel()}}),[Ot]);var Kt=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U()({method:"PUT",url:F.a.disappearUpdate,data:{disappear:St,time:30},headers:{token:localStorage.getItem("token")}});case 3:e.sent.data.responseCode,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){"undefined"!==typeof St&&Kt()}),[St]);var Qt=function(){var e=Object(o.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U()({method:"GET",url:F.a.disappearView,headers:{token:localStorage.getItem("token")}});case 3:200===(t=e.sent).data.responseCode&&At(null===(a=t.data)||void 0===a||null===(n=a.result)||void 0===n?void 0:n.disappear),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){Qt()}),[]),u.a.createElement(u.a.Fragment,null,u.a.createElement(m.a,{className:te.root},ge?u.a.createElement(K.a,null):u.a.createElement(p.a,{container:!0,spacing:2,style:{alignItems:"center"}},u.a.createElement(p.a,{item:!0,xs:12,sm:12,md:4,lg:4},u.a.createElement(m.a,{className:te.paper},u.a.createElement(v.a,{className:"searchBox"}," ",u.a.createElement("div",{className:"searchField customSearch"},u.a.createElement(p.a,{container:!0,spacing:2},u.a.createElement(p.a,{item:!0,xs:9,sm:10},u.a.createElement(b.a,{variant:"outlined",fullWidth:!0,type:"search",onChange:function(e){jt(e.target.value),Wt(!1)},value:Ot,InputProps:{startAdornment:u.a.createElement(O.b,{position:"start",style:{fontSize:"18px"}})}}),It&&It.length>0&&u.a.createElement(u.a.Fragment,null,!Ft&&u.a.createElement(le,{searchResult:It,setShowUser:Wt,history:ie,setNewuserDetails:function(e){return Je(e)}}))),u.a.createElement(p.a,{item:!0,xs:3,sm:2},u.a.createElement(v.a,{className:te.outer},u.a.createElement(v.a,{className:te.dot})))))),u.a.createElement(v.a,{className:te.chatLeftBox},Ie&&Ie.map((function(e,t){var a,n,r,l,o,i,c,s;return console.log("chat------",e),u.a.createElement(u.a.Fragment,null,e.receiverId&&e.receiverId._id!==Se?u.a.createElement(v.a,{key:t,className:te.box,style:(null===ze||void 0===ze?void 0:ze._id)==(null===e||void 0===e?void 0:e._id)?{background:"#E31A89"}:{},mb:2,onClick:function(){qt(e)}},u.a.createElement(v.a,{className:te.profilePic},u.a.createElement(v.a,{className:"chatprofile"},u.a.createElement("img",{src:e.receiverId&&e.receiverId.profilePic?e.receiverId.profilePic:"images/Activity.png",style:{borderRadius:"50%"}}),u.a.createElement(f.a,{only:["md","lg"]},u.a.createElement(v.a,null,e.gray&&u.a.createElement(v.a,{className:" statusBox",style:{backgroundColor:"#7D807D"}}),1==e.receiverId.isOnline?u.a.createElement(v.a,{className:" statusBox"}):u.a.createElement(v.a,{className:" statusBox",style:{backgroundColor:"#EB9310"}}),e.unReadCount>0&&u.a.createElement(v.a,{className:" chatBox"}," ",e.unReadCount)))),u.a.createElement(v.a,{className:te.nameSection},u.a.createElement(h.a,{variant:"h6"}," ",(null===e||void 0===e||null===(a=e.receiverId)||void 0===a?void 0:a.userName)?null===e||void 0===e||null===(n=e.receiverId)||void 0===n?void 0:n.userName:Object(L.d)(null===e||void 0===e||null===(r=e.receiverId)||void 0===r||null===(l=r.bnbAccount)||void 0===l?void 0:l.address)))),u.a.createElement(v.a,{align:"right",className:"activeBoxs"},u.a.createElement(h.a,{variant:"body1",component:"span",style:{color:"#BBB6B6"}}),e.receiverId.isOnline?u.a.createElement(v.a,{className:" statusBox"}):u.a.createElement(v.a,{className:" statusBox",style:{backgroundColor:"#EB9310"}}),e.gray&&u.a.createElement(v.a,{className:" statusBox",style:{backgroundColor:"#7D807D"}}),e.unReadCount>0&&u.a.createElement(v.a,{className:" chatBox"}," ",e.unReadCount))):u.a.createElement(v.a,{className:te.box,mb:2,style:(null===ze||void 0===ze?void 0:ze._id)==(null===e||void 0===e?void 0:e._id)?{background:"#E31A89"}:{},onClick:function(){qt(e)}},u.a.createElement(v.a,{className:te.chatimgBoxicon},u.a.createElement(v.a,{className:"chatprofile"},u.a.createElement("img",{src:e.senderId&&e.senderId.profilePic?e.senderId.profilePic:"images/Activity.png",style:{borderRadius:"50%"}}),u.a.createElement(f.a,{only:["md","lg"]},u.a.createElement(v.a,null,e.senderId.isOnline?u.a.createElement(v.a,{className:" statusBox"}):u.a.createElement(v.a,{className:" statusBox",style:{backgroundColor:"#EB9310"}}),e.gray&&u.a.createElement(v.a,{className:" statusBox",style:{backgroundColor:"#7D807D"}}),e.unReadCount>0&&u.a.createElement(v.a,{className:" chatBox"}," ",e.unReadCount)))),u.a.createElement(v.a,{className:te.nameSection},u.a.createElement(h.a,{variant:"h6"}," ",(null===e||void 0===e||null===(o=e.senderId)||void 0===o?void 0:o.userName)?null===e||void 0===e||null===(i=e.senderId)||void 0===i?void 0:i.userName:Object(L.d)(null===e||void 0===e||null===(c=e.senderId)||void 0===c||null===(s=c.bnbAccount)||void 0===s?void 0:s.address)))),u.a.createElement(v.a,{align:"right",className:"activeBoxs"},u.a.createElement(h.a,{variant:"body1",component:"span",style:{color:"#BBB6B6"}}),e.senderId.isOnline?u.a.createElement(v.a,{className:" statusBox"}):u.a.createElement(v.a,{className:" statusBox",style:{backgroundColor:"#EB9310"}}),e.gray&&u.a.createElement(v.a,{className:" statusBox",style:{backgroundColor:"#7D807D"}}),e.unReadCount>0&&u.a.createElement(v.a,{className:" chatBox"}," ",e.unReadCount),u.a.createElement(h.a,{variant:"h6"}," "))))}))))),u.a.createElement(p.a,{item:!0,xs:12,sm:12,md:8,lg:8},u.a.createElement(m.a,{className:te.paper},u.a.createElement(v.a,{style:{borderBottom:"1px solid #242526"}},u.a.createElement(p.a,{container:!0,spacing:2,style:{alignItems:"center"}},u.a.createElement(p.a,{item:!0,lg:6,sm:6,md:6,xs:6,align:"left"},(null===ze||void 0===ze||null===(e=ze.receiverId)||void 0===e?void 0:e._id)!==Se?u.a.createElement(v.a,{className:"headerbox"},u.a.createElement("img",{src:(null===ze||void 0===ze||null===(t=ze.receiverId)||void 0===t?void 0:t.profilePic)?null===ze||void 0===ze||null===(a=ze.receiverId)||void 0===a?void 0:a.profilePic:"images/Activity.png"}),u.a.createElement(v.a,{ml:2},u.a.createElement(h.a,{variant:"h6"}," ",(null===ze||void 0===ze||null===(n=ze.receiverId)||void 0===n?void 0:n.userName)?null===ze||void 0===ze||null===(c=ze.receiverId)||void 0===c?void 0:c.userName:Object(L.d)(null===ze||void 0===ze||null===(d=ze.receiverId)||void 0===d||null===(k=d.bnbAccount)||void 0===k?void 0:k.address)),1==(null===ze||void 0===ze||null===(w=ze.receiverId)||void 0===w?void 0:w.isOnline)?u.a.createElement(v.a,{style:{display:"flex"}},u.a.createElement(h.a,null,"Active Now"),u.a.createElement(v.a,{className:te.dot,ml:1,mt:.3})):u.a.createElement(v.a,{style:{display:"flex"}},u.a.createElement(h.a,null,"Offline")))):u.a.createElement(v.a,{className:"headerbox"},u.a.createElement("img",{src:(null===ze||void 0===ze||null===(I=ze.senderId)||void 0===I?void 0:I.profilePic)?null===ze||void 0===ze||null===(B=ze.senderId)||void 0===B?void 0:B.profilePic:"images/Activity.png"}),u.a.createElement(v.a,{ml:2},u.a.createElement(h.a,{variant:"h6"},(null===ze||void 0===ze||null===(W=ze.senderId)||void 0===W?void 0:W.userName)?null===ze||void 0===ze||null===(Y=ze.senderId)||void 0===Y?void 0:Y.userName:Object(L.d)(null===ze||void 0===ze||null===(J=ze.senderId)||void 0===J||null===(q=J.bnbAccount)||void 0===q?void 0:q.address)),1==(null===ze||void 0===ze||null===(H=ze.senderId)||void 0===H?void 0:H.isOnline)?u.a.createElement(v.a,{style:{display:"flex"}},u.a.createElement(h.a,null,"Active Now"),u.a.createElement(v.a,{className:te.dot,ml:1,mt:.3})):u.a.createElement(v.a,{style:{display:"flex"}},u.a.createElement(h.a,null,"Offline"))))))),u.a.createElement(v.a,{className:"bodyBox"},u.a.createElement(v.a,{textAlign:"center",mt:2,mb:2}),u.a.createElement(u.a.Fragment,null,null===Ue||void 0===Ue||null===(Q=Ue.messages)||void 0===Q?void 0:Q.map((function(e,t){var a,n,r,l;return u.a.createElement(u.a.Fragment,null,e&&u.a.createElement(u.a.Fragment,null,e.receiverId===Se?u.a.createElement(v.a,{className:te.box1,key:t},u.a.createElement(p.a,{container:!0,spacing:2,alignItems:"flex-end"},u.a.createElement(p.a,{item:!0,lg:1,sm:1,md:1,xs:2},u.a.createElement("img",{src:(null===(a=Ue.receiverId)||void 0===a?void 0:a.profilePic)?null===(n=Ue.receiverId)||void 0===n?void 0:n.profilePic:"images/Activity.png"})),u.a.createElement(p.a,{item:!0,lg:8,sm:9,md:8,xs:8},u.a.createElement(v.a,{style:{display:"flex",flexDirection:"column"}},u.a.createElement(v.a,{className:te.mess1},"image"===e.mediaType?u.a.createElement(v.a,null,u.a.createElement("img",{src:e.message,style:{height:100,width:100,borderRadius:"unset"}})):u.a.createElement(h.a,{variant:"body1",style:{wordBreak:"break-all"}},null===e||void 0===e?void 0:e.message),u.a.createElement(h.a,{variant:"body1",component:"small"},G()(null===e||void 0===e?void 0:e.createdAt).local().fromNow()),u.a.createElement(g.a,{onClick:function(t){de(t.currentTarget),be(e)},"aria-controls":"customized-menu","aria-haspopup":"true",className:te.menuShare},u.a.createElement(N.b,null)),ue&&ve&&u.a.createElement(re,{anchorEl:ue,setAnchorEl:function(e){return de(e)},chat:ve,setOpen:function(e){return bt(e)},setOpenShare:function(e){return xt(e)}})))))):u.a.createElement(v.a,{className:te.box1,key:t},u.a.createElement(p.a,{container:!0,spacing:2,alignItems:"flex-end"},u.a.createElement(p.a,{item:!0,lg:3,sm:2,md:3,xs:2}),u.a.createElement(p.a,{item:!0,lg:8,sm:9,md:8,xs:8},u.a.createElement(v.a,{style:{display:"flex",flexDirection:"column"}},u.a.createElement(v.a,{className:te.mess},"image"===e.mediaType?u.a.createElement(v.a,null,u.a.createElement("img",{src:e.message,style:{height:100,width:100,borderRadius:"unset"}})):u.a.createElement(h.a,{variant:"body1",style:{wordBreak:"break-all"}},null===e||void 0===e?void 0:e.message),u.a.createElement(h.a,{variant:"body1",component:"small"},G()(null===e||void 0===e?void 0:e.createdAt).local().fromNow()),u.a.createElement(g.a,{onClick:function(t){de(t.currentTarget),be(e)},"aria-controls":"customized-menu","aria-haspopup":"true",className:te.menuShare},u.a.createElement(N.b,null)),ue&&ve&&u.a.createElement(re,{anchorEl:ue,setAnchorEl:function(e){return de(e)},chat:ve,setOpen:function(e){return bt(e)},setOpenShare:function(e){return xt(e)}})))),u.a.createElement(p.a,{item:!0,lg:1,sm:1,md:1,xs:2,align:"right"},u.a.createElement("img",{src:(null===(r=Ue.senderId)||void 0===r?void 0:r.profilePic)?null===(l=Ue.senderId)||void 0===l?void 0:l.profilePic:"images/Activity.png"}))))))})))),u.a.createElement("form",{onSubmit:function(e){Ze?(Vt(Ze,!0,e),setTimeout((function(){$e()}),100)):Vt(ot,!1,e)}},u.a.createElement(v.a,{className:"footerBox"},u.a.createElement(p.a,{container:!0,spacing:2,style:{alignItems:"center"}},ut&&u.a.createElement(v.a,{className:te.emojiBox},u.a.createElement(V.a,{onEmojiClick:function(e,t){it((function(e){return e+t.emoji}))}})),u.a.createElement(p.a,{item:!0,xs:9,sm:11},u.a.createElement(v.a,null,u.a.createElement(b.a,{variant:"outlined",fullWidth:!0,placeholder:"Type something here....",onChange:function(e){return it(e.target.value)},value:ot,InputProps:{endAdornment:u.a.createElement(v.a,{style:{display:"flex",alignItems:"center"}},u.a.createElement(v.a,{className:"linkBox"}," ",u.a.createElement(j.a,{style:{fontSize:"20px"}})," ",u.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){Object(L.b)(e.target.files[0],(function(e){$e(e),nt(!0)}))}})),u.a.createElement(y.b,{position:"end",style:{fontSize:"20px",cursor:"pointer"},onClick:function(){return dt((function(e){return!e}))}}))}}))),u.a.createElement(p.a,{item:!0,xs:3,sm:1},u.a.createElement(x.a,{type:"submit",disabled:!ot},u.a.createElement(E.e,null),Dt&&u.a.createElement($.a,null))))," "))))),u.a.createElement(C.a,{"aria-labelledby":"customized-dialog-title",open:at},u.a.createElement(R.a,{id:"customized-dialog-title",onClose:function(){return nt(!1)}},"Send Image"),u.a.createElement(A.a,{dividers:!0},u.a.createElement(h.a,{gutterBottom:!0},Ze?u.a.createElement(v.a,{className:"right-Box"},u.a.createElement(v.a,null,u.a.createElement("img",{src:Ze,width:"100%"}))):"")),u.a.createElement(S.a,null,u.a.createElement(x.a,{autoFocus:!0,onClick:function(){nt(!1),$e("")},color:"primary"},"Cancel"),u.a.createElement(x.a,{autoFocus:!0,onClick:function(e){Ze&&(Vt(Ze,!0,e),setTimeout((function(){$e()}),100))},color:"primary"},"Send",Ze?" it":""))),u.a.createElement(C.a,{open:gt,onClose:function(){return xt(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"xs",fullWidth:!0},u.a.createElement(R.a,{id:"alert-dialog-title"},"Share Post"),u.a.createElement(A.a,null,u.a.createElement(g.a,{className:te.cancelBtn,onClick:function(){return xt(!1)}},u.a.createElement(D.c,null)),u.a.createElement(X.a,{url:P.websiteName}))),u.a.createElement(C.a,{open:vt,onClose:function(){de(null)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"xs",fullWidth:!0},u.a.createElement(R.a,{id:"alert-dialog-title"},"Block this user"),u.a.createElement(A.a,null,u.a.createElement(_.a,{id:"alert-dialog-description",align:"center"},"Are you sure you want to ",u.a.createElement("br",null)," Block this user?")),u.a.createElement(S.a,null,u.a.createElement(x.a,{onClick:function(){bt(!1)},color:"primary"},"Disagree"),u.a.createElement(x.a,{onClick:function(){bt(!1)},color:"primary",autoFocus:!0},"Agree")))))}},989:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(1),r=a.n(n),l=a(1125),o=a(1126),i=a(1127),c=a(1128),s=a(186),u=a(910),d=a(892),m=a(895),p=a(148),v=a(72),b=Object(d.a)((function(e){return{sharemodal:{"& button":{textAlign:"center","& svg":{fontSize:"25px"}}}}}));function f(e){var t=e.url,a=b();return r.a.createElement(s.a,{className:a.sharemodal,align:"center",mt:3,mb:2},r.a.createElement(l.a,{url:t,target:"_blank"},r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement(m.c,null)," ",r.a.createElement("br",null),"Facebook"))),r.a.createElement(o.a,{url:t,title:"frontend",description:""},r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement(p.a,null)," ",r.a.createElement("br",null),"Instagram"))),r.a.createElement(i.a,{url:t,title:"CampersTribe - World is yours to explore"},r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement(v.e,null)," ",r.a.createElement("br",null),"Telegram"))),r.a.createElement(c.a,{url:t,title:"frontend",hashtag:"#camperstribe"},r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement(p.b,null)," ",r.a.createElement("br",null),"Twitter"))))}}}]);
//# sourceMappingURL=35.a7e4d01b.chunk.js.map