{"version":3,"sources":["../Stories/webpack/universalModuleDefinition","../Stories/webpack/bootstrap","../Stories/external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"React\",\"root\":\"React\"}","../Stories/src/context/Global.ts","../Stories/src/context/Stories.ts","../Stories/src/context/Progress.ts","../Stories/src/renderers/wrappers/withHeader.tsx","../Stories/src/renderers/wrappers/withSeeMore.tsx","../Stories/src/components/Spinner.tsx","../Stories/src/index.tsx","../Stories/src/components/Container.tsx","../Stories/src/components/Story.tsx","../Stories/src/components/ProgressArray.tsx","../Stories/src/components/Progress.tsx","../Stories/src/components/ProgressWrapper.tsx","../Stories/src/util/renderers.tsx","../Stories/src/renderers/index.ts","../Stories/src/renderers/Image.tsx","../Stories/src/assets/puff.svg","../Stories/src/components/Header.tsx","../Stories/src/components/SeeMore.tsx","../Stories/src/renderers/Video.tsx","../Stories/src/renderers/Default.tsx","../Stories/src/renderers/AutoPlayContent.tsx","../node_modules/@material-ui/icons/esm/CancelOutlined.js"],"names":["__WEBPACK_EXTERNAL_MODULE__0__","module","exports","require","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","defaultInterval","width","height","GlobalContext","createContext","stories","StoriesContext","currentId","videoDuration","bufferAction","pause","next","a","e","story","globalHeader","children","header","style","position","left","top","zIndex","heading","subheading","profileImage","f","action","customCollapsed","showMore","setShowMore","CollapsedComponent","seeMore","margin","bottom","toggleMore","show","showContent","seeMoreContent","seeMoreCollapsed","y","h","v","ReactInstaStories","props","renderers","concat","context","loader","storyContainerStyles","storyStyles","loop","isPaused","currentIndex","onStoryStart","onStoryEnd","onAllStoriesEnd","keyboardNavigation","preventDefault","generateStories","setStories","Provider","map","url","type","assign","renderer","originalContent","content","defaultProps","setCurrentId","setPause","u","setBufferAction","setVideoDuration","mousedownId","isMounted","j","C","length","setCurrentIdWrapper","console","error","window","document","addEventListener","handleKeyDown","removeEventListener","current","previous","toggleState","callback","prev","updateNextStoryIdForLoop","updateNextStoryId","debouncePause","setTimeout","mouseUp","clearTimeout","styles","container","playState","getVideoDuration","duration","overlay","onTouchStart","onTouchEnd","onMouseDown","onMouseUp","display","flexDirection","background","overflow","alignItems","InnerContent","config","globalContext","messageHandler","data","ack","count","setCount","animationFrameId","requestAnimationFrame","incrementCount","cancelAnimationFrame","countCopy","storyStartCallback","interval","getCurrentInterval","storyEndCallback","allStoriesEndCallback","progressArr","_","active","justifyContent","maxWidth","flexWrap","padding","paddingTop","alignSelf","filter","transform","inner","borderRadius","transformOrigin","WebkitBackfaceVisibility","MozBackfaceVisibility","msBackfaceVisibility","backfaceVisibility","WebkitPerspective","MozPerspective","msPerspective","perspective","getProgressWrapperStyle","opacity","transition","probable","testerResult","tester","condition","sort","b","priority","React","useState","loaded","setLoaded","computedStyles","storyContent","src","onLoad","color","maxHeight","xmlns","stroke","fill","fillRule","strokeWidth","cx","cy","attributeName","begin","dur","values","calcMode","keyTimes","keySplines","repeatCount","main","img","marginRight","border","text","fontSize","marginBottom","SeeMoreContent","CustomCollapsed","seeMoreExpanded","close","onClick","stopPropagation","seeMoreIcon","seeMoreText","boxSizing","textAlign","letterSpacing","textTransform","seeMoreClose","right","muted","setMuted","vid","useRef","useEffect","play","videoContainer","ref","controls","onLoadedData","then","playsInline","onWaiting","onPlaying","autoPlay","Content","createSvgIcon"],"mappings":"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","file":"static/js/45.a73efab5.chunk.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Stories\", [\"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Stories\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"Stories\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import React from 'react';\nimport { GlobalCtx } from '../interfaces';\n\nexport const initialContext = {\n\tdefaultInterval: 4000,\n\twidth: 360,\n\theight: 640,\n};\n\nconst GlobalContext = React.createContext<GlobalCtx>(initialContext);\n\nexport default GlobalContext;\n","import React from 'react';\nimport {\n\tStoriesContext as StoriesContextInterface,\n\tStory,\n} from '../interfaces';\n\nexport const initialContext: { stories: Story[] } = {\n\tstories: [],\n};\n\nconst StoriesContext = React.createContext<StoriesContextInterface>(\n\tinitialContext\n);\n\nexport default StoriesContext;\n","import React from 'react'\nimport { ProgressContext } from './../interfaces'\n\nexport default React.createContext<ProgressContext>({\n    currentId: 0,\n    videoDuration: 0,\n    bufferAction: false,\n    pause: false,\n    next: () => { }\n})","import React from 'react';\nimport { Story } from '../../interfaces';\nimport Header from \"./../../components/Header\";\n\nconst withHeader: React.FC<{ story: Story, globalHeader: Function }> = ({ story, globalHeader, children }) => {\n    return <>\n        {children}\n        {story.header && (\n            <div style={{ position: \"absolute\", left: 12, top: 20, zIndex: 19 }}>\n                {typeof story === \"object\" ? (\n                    globalHeader ? (\n                        globalHeader(story.header)\n                    ) : (\n                            <Header\n                                heading={story.header.heading}\n                                subheading={story.header.subheading}\n                                profileImage={story.header.profileImage}\n                            />\n                        )\n                ) : null}\n            </div>\n        )}\n    </>\n}\n\nexport default withHeader;","import React, { ComponentType, useState } from 'react';\nimport { Action, SeeMoreProps, Story } from '../../interfaces';\nimport SeeMore from \"./../../components/SeeMore\";\n\nconst withSeeMore: React.FC<{\n    story: Story,\n    action: Action,\n    customCollapsed?: SeeMoreProps[\"customCollapsed\"]\n}> = ({ story, action, customCollapsed, children }) => {\n    const [showMore, setShowMore] = useState(false);\n    const toggleMore = (show) => {\n        action(show ? 'pause' : 'play');\n        setShowMore(show);\n    }\n    const CollapsedComponent = SeeMore;\n    return <>\n        {children}\n        {story.seeMore && (\n            <div\n                style={{\n                    position: \"absolute\",\n                    margin: \"auto\",\n                    bottom: showMore ? 'unset' : 0,\n                    zIndex: 9999,\n                    width: \"100%\",\n                    height: showMore ? '100%' : 'auto'\n                }}\n            >\n                <CollapsedComponent\n                    action={action}\n                    toggleMore={toggleMore}\n                    showContent={showMore}\n                    seeMoreContent={story.seeMore}\n                    customCollapsed={customCollapsed || story.seeMoreCollapsed}\n                />\n            </div>\n        )}\n    </>\n}\n\nexport default withSeeMore;","import React from 'react';\nimport SpinnerSVG from './../assets/puff.svg';\n\nconst Spinner = () => {\n    return <SpinnerSVG />\n}\n\nexport default Spinner;","import React, { useEffect, useState } from 'react'\nimport { ReactInstaStoriesProps, GlobalCtx, Story, Tester, Renderer } from './interfaces'\nimport Container from './components/Container'\nimport GlobalContext from './context/Global'\nimport StoriesContext from './context/Stories';\nimport { getRenderer } from './util/renderers'\nimport { renderers as defaultRenderers } from './renderers/index';\nimport withHeader from './renderers/wrappers/withHeader'\nimport withSeeMore from './renderers/wrappers/withSeeMore'\n\nconst ReactInstaStories = function (props: ReactInstaStoriesProps) {\n    let renderers = props.renderers ? props.renderers.concat(defaultRenderers) : defaultRenderers;\n    let context: GlobalCtx = {\n        width: props.width,\n        height: props.height,\n        loader: props.loader,\n        header: props.header,\n        storyContainerStyles: props.storyContainerStyles,\n        storyStyles: props.storyStyles,\n        loop: props.loop,\n        defaultInterval: props.defaultInterval,\n        isPaused: props.isPaused,\n        currentIndex: props.currentIndex,\n        onStoryStart: props.onStoryStart,\n        onStoryEnd: props.onStoryEnd,\n        onAllStoriesEnd: props.onAllStoriesEnd,\n        keyboardNavigation: props.keyboardNavigation,\n        preventDefault: props.preventDefault\n    }\n    const [stories, setStories] = useState<{ stories: Story[] }>({ stories: generateStories(props.stories, renderers) });\n    useEffect(() => {\n        setStories({ stories: generateStories(props.stories, renderers) });\n    }, [props.stories, props.renderers]);\n\n    return <GlobalContext.Provider value={context}>\n        <StoriesContext.Provider value={stories}>\n            <Container />\n        </StoriesContext.Provider>\n    </GlobalContext.Provider>\n}\n\nconst generateStories = (stories: Story[], renderers: { renderer: Renderer, tester: Tester }[]) => {\n    return stories.map(s => {\n        let story: Story = {};\n\n        if (typeof s === 'string') {\n            story.url = s;\n            story.type = 'image';\n        } else if (typeof s === 'object') {\n            story = Object.assign(story, s);\n        }\n\n        let renderer = getRenderer(story, renderers);\n        story.originalContent = story.content;\n        story.content = renderer;\n        return story\n    })\n};\n\nReactInstaStories.defaultProps = {\n    width: 360,\n    height: 640,\n    defaultInterval: 4000\n}\n\nexport const WithHeader = withHeader;\nexport const WithSeeMore = withSeeMore;\n\nexport default ReactInstaStories","import React, { useContext, useState, useRef, useEffect } from 'react'\nimport GlobalContext from './../context/Global'\nimport StoriesContext from './../context/Stories'\nimport ProgressContext from './../context/Progress'\nimport Story from './Story'\nimport ProgressArray from './ProgressArray'\nimport { GlobalCtx, StoriesContext as StoriesContextInterface } from './../interfaces'\n\nexport default function () {\n    const [currentId, setCurrentId] = useState<number>(0)\n    const [pause, setPause] = useState<boolean>(true)\n    const [bufferAction, setBufferAction] = useState<boolean>(true)\n    const [videoDuration, setVideoDuration] = useState<number>(0)\n\n    let mousedownId = useRef<any>();\n    let isMounted = useRef<boolean>(true);\n\n    const { width, height, loop, currentIndex, isPaused, keyboardNavigation, preventDefault, storyContainerStyles = {} } = useContext<GlobalCtx>(GlobalContext);\n    const { stories } = useContext<StoriesContextInterface>(StoriesContext);\n\n    useEffect(() => {\n        if (typeof currentIndex === 'number') {\n            if (currentIndex >= 0 && currentIndex < stories.length) {\n                setCurrentIdWrapper(() => currentIndex)\n            } else {\n                console.error('Index out of bounds. Current index was set to value more than the length of stories array.', currentIndex)\n            }\n        }\n    }, [currentIndex])\n\n    useEffect(() => {\n        if (typeof isPaused === 'boolean') {\n            setPause(isPaused)\n        }\n    }, [isPaused])\n\n    useEffect(() => {\n        const isClient = (typeof window !== 'undefined' && window.document);\n        if (isClient && (typeof keyboardNavigation === 'boolean' && keyboardNavigation)) {\n            document.addEventListener(\"keydown\", handleKeyDown);\n            return () => {\n                document.removeEventListener(\"keydown\", handleKeyDown);\n            }\n        }\n    }, [keyboardNavigation]);\n\n    // Cleanup mounted state - for issue #130 (https://github.com/mohitk05/react-insta-stories/issues/130)\n    useEffect(() => {\n        return () => {\n            isMounted.current = false;\n        }\n    }, []);\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n        if (e.key === 'ArrowLeft') {\n            previous()\n        }\n        else if (e.key === 'ArrowRight') {\n            next()\n        }\n    }\n\n    const toggleState = (action: string, bufferAction?: boolean) => {\n        setPause(action === 'pause')\n        setBufferAction(!!bufferAction)\n    }\n\n    const setCurrentIdWrapper = (callback) => {\n        setCurrentId(callback);\n        toggleState('pause', true);\n    }\n\n    const previous = () => {\n        setCurrentIdWrapper(prev => prev > 0 ? prev - 1 : prev)\n    }\n\n    const next = () => {\n        if (isMounted.current) {\n            if (loop) {\n                updateNextStoryIdForLoop()\n            } else {\n                updateNextStoryId()\n            }\n        }\n    };\n\n    const updateNextStoryIdForLoop = () => {\n        setCurrentIdWrapper(prev => (prev + 1) % stories.length)\n    }\n\n    const updateNextStoryId = () => {\n        setCurrentIdWrapper(prev => {\n            if (prev < stories.length - 1) return prev + 1\n            return prev\n        })\n    }\n\n    const debouncePause = (e: React.MouseEvent | React.TouchEvent) => {\n        e.preventDefault()\n        mousedownId.current = setTimeout(() => {\n            toggleState('pause')\n        }, 200)\n    }\n\n    const mouseUp = (type: string) => (e: React.MouseEvent | React.TouchEvent) => {\n        e.preventDefault()\n        mousedownId.current && clearTimeout(mousedownId.current)\n        if (pause) {\n            toggleState('play')\n        } else {\n            type === 'next' ? next() : previous()\n        }\n    }\n\n    const getVideoDuration = (duration: number) => {\n        setVideoDuration(duration * 1000)\n    }\n\n    return (\n        <div style={{ ...storyContainerStyles, ...styles.container, ...{ width, height } }}>\n            <ProgressContext.Provider value={{\n                bufferAction: bufferAction,\n                videoDuration: videoDuration,\n                currentId,\n                pause,\n                next\n            }}>\n                <ProgressArray />\n            </ProgressContext.Provider>\n            <Story\n                action={toggleState}\n                bufferAction={bufferAction}\n                playState={pause}\n                story={stories[currentId]}\n                getVideoDuration={getVideoDuration}\n            />\n            {!preventDefault && <div style={styles.overlay}>\n              <div style={{ width: '50%', zIndex: 999 }} onTouchStart={debouncePause} onTouchEnd={mouseUp('previous')} onMouseDown={debouncePause} onMouseUp={mouseUp('previous')} />\n              <div style={{ width: '50%', zIndex: 999 }} onTouchStart={debouncePause} onTouchEnd={mouseUp('next')} onMouseDown={debouncePause} onMouseUp={mouseUp('next')} />\n            </div>}\n        </div>\n    )\n}\n\nconst styles = {\n    container: {\n        display: 'flex',\n        flexDirection: 'column',\n        background: '#111',\n        position: 'relative'\n    },\n    overlay: {\n        position: 'absolute',\n        height: 'inherit',\n        width: 'inherit',\n        display: 'flex'\n    }\n}","import React, { useContext } from \"react\";\nimport { StoryProps, GlobalCtx } from \"./../interfaces\";\nimport GlobalContext from \"./../context/Global\";\n\nconst Story = (props: StoryProps) => {\n\tconst globalContext = useContext<GlobalCtx>(\n\t\tGlobalContext\n\t);\n\n\tconst { width, height, loader, header, storyStyles } = globalContext;\n\n\tconst rendererMessageHandler = (type: string, data: any) => {\n\t\tswitch (type) {\n\t\t\tcase 'UPDATE_VIDEO_DURATION':\n\t\t\t\tprops.getVideoDuration(data.duration);\n\t\t\t\treturn { ack: 'OK' as 'OK' }\n\t\t}\n\t}\n\n\tconst getStoryContent = () => {\n\t\tlet InnerContent = props.story.content;\n\t\tlet config = { width, height, loader, header, storyStyles };\n\t\treturn <InnerContent\n\t\t\taction={props.action}\n\t\t\tisPaused={props.playState}\n\t\t\tstory={props.story}\n\t\t\tconfig={config}\n\t\t\tmessageHandler={rendererMessageHandler}\n\t\t/>\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tstyle={{ ...styles.story, width: width, height: height }}\n\t\t>\n\t\t\t{getStoryContent()}\n\t\t</div>\n\t);\n};\n\nconst styles = {\n\tstory: {\n\t\tdisplay: \"flex\",\n\t\tposition: \"relative\",\n\t\toverflow: \"hidden\",\n\t\talignItems: \"center\"\n\t},\n\tstoryContent: {\n\t\twidth: \"auto\",\n\t\tmaxWidth: \"100%\",\n\t\tmaxHeight: \"100%\",\n\t\tmargin: \"auto\"\n\t}\n};\n\nexport default Story;\n","import React, { useContext, useState, useEffect, useRef } from 'react'\nimport Progress from './Progress'\nimport { ProgressContext, GlobalCtx, StoriesContext as StoriesContextInterface } from './../interfaces'\nimport ProgressCtx from './../context/Progress'\nimport GlobalContext from './../context/Global'\nimport StoriesContext from './../context/Stories'\n\nexport default () => {\n    const [count, setCount] = useState<number>(0)\n    const { currentId, next, videoDuration, pause } = useContext<ProgressContext>(ProgressCtx)\n    const { defaultInterval, onStoryEnd, onStoryStart, onAllStoriesEnd } = useContext<GlobalCtx>(GlobalContext);\n    const { stories } = useContext<StoriesContextInterface>(StoriesContext);\n\n    useEffect(() => {\n        setCount(0)\n    }, [currentId, stories])\n\n    useEffect(() => {\n        if (!pause) {\n            animationFrameId.current = requestAnimationFrame(incrementCount)\n        }\n        return () => {\n            cancelAnimationFrame(animationFrameId.current)\n        }\n    }, [currentId, pause])\n\n    let animationFrameId = useRef<number>()\n\n    let countCopy = count;\n    const incrementCount = () => {\n        if (countCopy === 0) storyStartCallback()\n        setCount((count: number) => {\n            const interval = getCurrentInterval()\n            countCopy = count + (100 / ((interval / 1000) * 60))\n            return count + (100 / ((interval / 1000) * 60))\n        })\n        if (countCopy < 100) {\n            animationFrameId.current = requestAnimationFrame(incrementCount)\n        } else {\n            storyEndCallback();\n            if (currentId === stories.length - 1) {\n                allStoriesEndCallback();\n            }\n            cancelAnimationFrame(animationFrameId.current);\n            next();\n        }\n    }\n\n    const storyStartCallback = () => {\n        onStoryStart && onStoryStart(currentId, stories[currentId])\n    }\n\n    const storyEndCallback = () => {\n        onStoryEnd && onStoryEnd(currentId, stories[currentId])\n    }\n\n    const allStoriesEndCallback = () => {\n        onAllStoriesEnd && onAllStoriesEnd(currentId, stories)\n    }\n\n    const getCurrentInterval = () => {\n        if (stories[currentId].type === 'video') return videoDuration\n        if (typeof stories[currentId].duration === 'number') return stories[currentId].duration\n        return defaultInterval\n    }\n\n    return (\n        <div style={styles.progressArr}>\n            {stories.map((_, i) =>\n                <Progress\n                    key={i}\n                    count={count}\n                    width={1 / stories.length}\n                    active={i === currentId ? 1 : (i < currentId ? 2 : 0)}\n                />)}\n        </div>\n    )\n}\n\nconst styles = {\n    progressArr: {\n        display: 'flex',\n        justifyContent: 'center',\n        maxWidth: '100%',\n        flexWrap: 'row',\n        position: 'absolute',\n        width: '98%',\n        padding: 5,\n        paddingTop: 7,\n        alignSelf: 'center',\n        zIndex: 99,\n        filter: 'drop-shadow(0 1px 8px #222)'\n    }\n}","import React, { useContext } from 'react'\nimport { ProgressProps, ProgressContext } from './../interfaces'\nimport ProgressWrapper from './ProgressWrapper'\nimport ProgressCtx from './../context/Progress'\n\nexport default (props: ProgressProps) => {\n    const { bufferAction, pause } = useContext<ProgressContext>(ProgressCtx)\n\n    const getProgressStyle = ({ active }) => {\n        switch (active) {\n            case 2:\n                return { width: '100%' }\n            case 1:\n                return { transform: `scaleX(${props.count / 100})` }\n            case 0:\n                return { width: 0 }\n            default:\n                return { width: 0 }\n        }\n    }\n\n    const { width, active } = props\n    return (\n        <ProgressWrapper width={width} pause={pause} bufferAction={bufferAction}>\n            <div\n                style={{ ...getProgressStyle({ active }), ...styles.inner }} />\n        </ProgressWrapper>\n    )\n}\n\nconst styles: any = {\n    inner: {\n        background: '#fff',\n        height: '100%',\n        maxWidth: '100%',\n        borderRadius: 2,\n        transformOrigin: 'center left',\n\n        WebkitBackfaceVisibility: 'hidden',\n        MozBackfaceVisibility: 'hidden',\n        msBackfaceVisibility: 'hidden',\n        backfaceVisibility: 'hidden',\n\n        WebkitPerspective: 1000,\n        MozPerspective: 1000,\n        msPerspective: 1000,\n        perspective: 1000\n    }\n}","import React from 'react'\nimport { ProgressWrapperProps } from './../interfaces'\n\nconst ProgressWrapper = (props: ProgressWrapperProps) => (\n    <div style={{ ...styles.progress, ...getProgressWrapperStyle(props) }}>\n        {props.children}\n    </div>\n)\n\nconst getProgressWrapperStyle = ({ width, pause, bufferAction }) => ({\n    width: `${width * 100}%`,\n    opacity: pause && !bufferAction ? 0 : 1\n})\n\nconst styles = {\n    progress: {\n        height: 2,\n        maxWidth: '100%',\n        background: '#555',\n        margin: 2,\n        borderRadius: 2,\n        transition: 'opacity 400ms ease-in-out'\n    }\n}\n\nexport default ProgressWrapper","import { Renderer, Story, Tester } from \"../interfaces\";\n\nexport const getRenderer = (story: Story, renderers: { renderer: Renderer, tester: Tester }[]): Renderer => {\n    let probable = renderers.map(r => {\n        return {\n            ...r,\n            testerResult: r.tester(story)\n        }\n    }).filter(r => r.testerResult.condition);\n    probable.sort((a, b) => b.testerResult.priority - a.testerResult.priority);\n    return probable[0].renderer;\n}","import image from './Image';\nimport video from './Video';\nimport defaultRenderer from './Default';\nimport autoplayContent from './AutoPlayContent';\n\nexport const renderers = [image, video, autoplayContent, defaultRenderer];\n","import * as React from 'react';\nimport Spinner from '../components/Spinner';\nimport { Renderer, Tester } from './../interfaces';\nimport WithHeader from './wrappers/withHeader';\nimport WithSeeMore from './wrappers/withSeeMore';\n\nexport const renderer: Renderer = ({ story, action, isPaused, config }) => {\n    const [loaded, setLoaded] = React.useState(false);\n    const { width, height, loader, storyStyles } = config;\n    let computedStyles = {\n        ...styles.storyContent,\n        ...(storyStyles || {})\n    }\n\n    const imageLoaded = () => {\n        setLoaded(true);\n        action('play');\n    }\n\n    return <WithHeader story={story} globalHeader={config.header}>\n        <WithSeeMore story={story} action={action}>\n            <div>\n                <img style={computedStyles} src={story.url} onLoad={imageLoaded} />\n                {!loaded && (\n                    <div\n                        style={{\n                            width: width,\n                            height: height,\n                            position: \"absolute\",\n                            left: 0,\n                            top: 0,\n                            background: \"rgba(0, 0, 0, 0.9)\",\n                            zIndex: 9,\n                            display: \"flex\",\n                            justifyContent: \"center\",\n                            alignItems: \"center\",\n                            color: \"#ccc\"\n                        }}\n                    >\n                        {loader || <Spinner />}\n                    </div>\n                )}\n            </div>\n        </WithSeeMore>\n    </WithHeader>\n}\n\nconst styles = {\n    story: {\n        display: \"flex\",\n        position: \"relative\",\n        overflow: \"hidden\"\n    },\n    storyContent: {\n        width: \"auto\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\"\n    }\n};\n\nexport const tester: Tester = (story) => {\n    return {\n        condition: !story.content && (!story.type || story.type === 'image'),\n        priority: 2\n    }\n}\n\nexport default {\n    renderer,\n    tester\n}","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"44\" height=\"44\" xmlns=\"http://www.w3.org/2000/svg\" stroke=\"#fff\" {...props}><g fill=\"none\" fillRule=\"evenodd\" strokeWidth=\"2\"><circle cx=\"22\" cy=\"22\" r=\"1\"><animate attributeName=\"r\" begin=\"0s\" dur=\"1.8s\" values=\"1; 20\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.165, 0.84, 0.44, 1\" repeatCount=\"indefinite\" /><animate attributeName=\"stroke-opacity\" begin=\"0s\" dur=\"1.8s\" values=\"1; 0\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.3, 0.61, 0.355, 1\" repeatCount=\"indefinite\" /></circle><circle cx=\"22\" cy=\"22\" r=\"1\"><animate attributeName=\"r\" begin=\"-0.9s\" dur=\"1.8s\" values=\"1; 20\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.165, 0.84, 0.44, 1\" repeatCount=\"indefinite\" /><animate attributeName=\"stroke-opacity\" begin=\"-0.9s\" dur=\"1.8s\" values=\"1; 0\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.3, 0.61, 0.355, 1\" repeatCount=\"indefinite\" /></circle></g></svg>);","import React from 'react'\nimport { HeaderProps } from './../interfaces'\n\nconst Header = ({ profileImage, heading, subheading }: HeaderProps) =>\n    <div style={styles.main}>\n        {profileImage && <img style={styles.img} src={profileImage} />}\n        <span style={styles.text}>\n            <p style={styles.heading}>{heading}</p>\n            <p style={styles.subheading}>{subheading}</p>\n        </span>\n    </div>\n\nconst styles = {\n    main: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    img: {\n        width: 40,\n        height: 40,\n        borderRadius: 40,\n        marginRight: 10,\n        filter: 'drop-shadow(0 0px 2px rgba(0, 0, 0, 0.5))',\n        border: '2px solid rgba(255, 255, 255, 0.8)'\n    },\n    text: {\n        display: 'flex',\n        flexDirection: 'column',\n        filter: 'drop-shadow(0 0px 3px rgba(0, 0, 0, 0.9))'\n    },\n    heading: {\n        fontSize: '1rem',\n        color: 'rgba(255, 255, 255, 0.9)',\n        margin: 0,\n        marginBottom: 2\n    },\n    subheading: {\n        fontSize: '0.6rem',\n        color: 'rgba(255, 255, 255, 0.8)',\n        margin: 0\n    }\n}\n\nexport default Header","import React, { useEffect, useContext } from 'react'\nimport GlobalContext from './../context/Global'\nimport { GlobalCtx } from './../interfaces'\nimport { SeeMoreProps } from './../interfaces'\n\nexport default function seeMore(props: SeeMoreProps) {\n    const SeeMoreContent = props.seeMoreContent;\n    const CustomCollapsed = props.customCollapsed;\n\n    const { keyboardNavigation } = useContext<GlobalCtx>(GlobalContext);\n\n    useEffect(() => {\n        const isClient = (typeof window !== 'undefined' && window.document);\n        if (isClient && (typeof keyboardNavigation === 'boolean' && keyboardNavigation)) {\n            document.addEventListener(\"keydown\", handleKeyDown);\n            return () => {\n                document.removeEventListener(\"keydown\", handleKeyDown);\n            }\n        }\n    }, [keyboardNavigation])\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n        if (e.key === 'ArrowUp') {\n            e.preventDefault()\n            props.toggleMore(true)\n        }\n        else if (e.key === 'ArrowDown' || e.key === 'Escape') {\n            e.preventDefault()\n            props.toggleMore(false)\n        }\n    }\n\n    return (\n        props.showContent\n            ? <div style={styles.seeMoreExpanded}>\n                <SeeMoreContent close={() => props.toggleMore(false)} />\n            </div>\n            :\n            (CustomCollapsed ? <CustomCollapsed action={props.action} toggleMore={props.toggleMore} /> : <div style={styles.seeMore} onClick={(e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                props.toggleMore(true)\n            }} >\n                <span style={styles.seeMoreIcon}>⌃</span>\n                <span style={styles.seeMoreText}>See more</span>\n            </div>\n            )\n    )\n}\n\nconst styles: any = {\n    seeMore: {\n        height: \"10vh\",\n        background: \"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2))\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        bottom: 0\n    },\n    seeMoreExpanded: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        boxSizing: 'border-box',\n        zIndex: 99999\n    },\n    seeMoreText: {\n        color: \"white\",\n        textAlign: \"center\",\n        letterSpacing: \"0.1em\",\n        marginBottom: \"2.2vh\",\n        textTransform: \"capitalize\",\n        opacity: \"1\",\n        fontSize: \"0.8em\",\n        transition: \"opacity 300ms ease-in-out\"\n    },\n    seeMoreIcon: {\n        color: \"white\",\n        textAlign: \"center\",\n        letterSpacing: \"0.2em\",\n        marginBottom: \"0.4vh\",\n        opacity: \"1\",\n        filter: \"drop-shadow(0 0 5px black)\",\n        textTransform: \"capitalize\",\n        transition: \"opacity 300ms ease-in-out\"\n    },\n    seeMoreClose: {\n        position: \"absolute\",\n        filter: \"drop-shadow(0 3px 2px #ccc)\",\n        right: \"0.5rem\",\n        top: \"0.5rem\",\n        fontSize: \"1.5rem\",\n        opacity: \"0.7\",\n        padding: \"1rem\"\n    }\n}","import * as React from 'react';\nimport Spinner from '../components/Spinner';\nimport { Renderer, Tester } from './../interfaces';\nimport WithHeader from './wrappers/withHeader';\nimport WithSeeMore from './wrappers/withSeeMore';\n\nexport const renderer: Renderer = ({ story, action, isPaused, config, messageHandler }) => {\n    const [loaded, setLoaded] = React.useState(false);\n    const [muted, setMuted] = React.useState(false);\n    const { width, height, loader, storyStyles } = config;\n\n    let computedStyles = {\n        ...styles.storyContent,\n        ...(storyStyles || {})\n    }\n\n    let vid = React.useRef<HTMLVideoElement>(null);\n\n    React.useEffect(() => {\n        if (vid.current) {\n            if (isPaused) {\n                vid.current.pause();\n            } else {\n                vid.current.play().catch(() => { });\n            }\n        }\n    }, [isPaused]);\n\n    const onWaiting = () => {\n        action(\"pause\", true);\n    }\n\n    const onPlaying = () => {\n        action(\"play\", true);\n    }\n\n    const videoLoaded = () => {\n        messageHandler('UPDATE_VIDEO_DURATION', { duration: vid.current.duration });\n        setLoaded(true);\n        vid.current.play().then(() => {\n            action('play');\n        }).catch(() => {\n            setMuted(true);\n            vid.current.play().finally(() => {\n                action('play');\n            })\n        });\n    }\n\n    return <WithHeader story={story} globalHeader={config.header}>\n        <WithSeeMore story={story} action={action}>\n            <div style={styles.videoContainer}>\n                <video\n                    ref={vid}\n                    style={computedStyles}\n                    src={story.url}\n                    controls={false}\n                    onLoadedData={videoLoaded}\n                    playsInline\n                    onWaiting={onWaiting}\n                    onPlaying={onPlaying}\n                    muted={muted}\n                    autoPlay\n                    webkit-playsinline=\"true\"\n                />\n                {!loaded && (\n                    <div\n                        style={{\n                            width: width,\n                            height: height,\n                            position: \"absolute\",\n                            left: 0,\n                            top: 0,\n                            background: \"rgba(0, 0, 0, 0.9)\",\n                            zIndex: 9,\n                            display: \"flex\",\n                            justifyContent: \"center\",\n                            alignItems: \"center\",\n                            color: \"#ccc\"\n                        }}\n                    >\n                        {loader || <Spinner />}\n                    </div>\n                )}\n            </div>\n        </WithSeeMore>\n    </WithHeader>\n}\n\nconst styles = {\n    storyContent: {\n        width: \"auto\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\"\n    },\n    videoContainer: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n    }\n};\n\nexport const tester: Tester = (story) => {\n    return {\n        condition: story.type === 'video',\n        priority: 2\n    }\n}\n\nexport default {\n    renderer,\n    tester\n}\n","import * as React from 'react';\nimport { Renderer, Tester } from './../interfaces';\n\nexport const renderer: Renderer = ({ story, action }) => {\n    React.useEffect(() => {\n        action('play');\n    }, [story])\n\n    return <div style={styles.storyContent}>\n        <p style={styles.text}>This story could not be loaded.</p>\n    </div>\n}\n\nconst styles = {\n    storyContent: {\n        width: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\"\n    },\n    text: {\n        textAlign: 'center',\n        color: 'white',\n        width: '90%',\n        margin: 'auto'\n    }\n};\n\nexport const tester: Tester = () => {\n    return {\n        condition: true,\n        priority: 1\n    };\n}\n\nexport default {\n    renderer,\n    tester\n}","import * as React from 'react';\nimport { Renderer, Tester } from './../interfaces';\n\nexport const renderer: Renderer = (props) => {\n    React.useEffect(() => {\n        props.action('play');\n    }, [props.story])\n    const Content = props.story.originalContent;\n    return <Content {...props} />\n}\n\nexport const tester: Tester = (story) => {\n    return {\n        condition: !!story.content,\n        priority: 2\n    }\n}\n\nexport default {\n    renderer,\n    tester\n}","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z\"\n}), 'CancelOutlined');"],"sourceRoot":""}