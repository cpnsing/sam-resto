(this["webpackJsonpsam-resto"]=this["webpackJsonpsam-resto"]||[]).push([[31],{1297:function(e,t,a){"use strict";var n=a(128),r=a(129);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(1)),i=(0,n(a(130)).default)(l.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.default=i},1386:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a.n(n),l=a(31),i=a(12),o=a(1),c=a.n(o),s=(a(505),a(1e3)),u=a.n(s),m=a(877),d=a(932),p=a(186),b=a(258),v=a(185),f=a(926),g=a(885),E=a(920),h=a(891),x=a(910),O=a(1001),y=a(893),S=a(39),j=a.n(S),T=a(962),P=a(264),k=a.n(P),w=a(940),C=a(76),A=a(914),z=a(70),B=a.n(z),M=a(928),W=a(1297),N=a.n(W),F=a(953),V=a(32),I=a(28),L=a(262),R=a(263),Z=a(984),_=a.n(Z),q=(a(972),Object(m.a)((function(e){return{get:{alignItems:"center",textAlign:"center",marginTop:"5rem",marginBottom:"1rem"},loginBox:{padding:"40px 30px"},donation:{"& span":{fontSize:"12px",padding:"2px 5px",cursor:"pointer","&.active":{backgroundColor:"#e31a89",borderRadius:"7px"}}}}})));t.default=function(e){var t=q(),a=Object(V.g)(),n=Object(o.useState)(),s=Object(i.a)(n,2),m=s[0],S=s[1],P=Object(o.useState)(""),z=Object(i.a)(P,2),W=z[0],Z=z[1],D=c.a.useState(),Y=Object(i.a)(D,2),$=Y[0],J=Y[1],K=Object(o.useState)(!1),U=Object(i.a)(K,2),G=U[0],H=U[1],Q=c.a.useState(),X=Object(i.a)(Q,2),ee=X[0],te=X[1],ae=Object(o.useState)(),ne=Object(i.a)(ae,2),re=ne[0],le=ne[1],ie=Object(o.useState)(""),oe=Object(i.a)(ie,2),ce=oe[0],se=oe[1],ue=Object(o.useState)(!1),me=Object(i.a)(ue,2),de=me[0],pe=me[1],be=c.a.useState(!1),ve=Object(i.a)(be,2),fe=ve[0],ge=(ve[1],Object(o.useState)()),Ee=Object(i.a)(ge,2),he=Ee[0],xe=Ee[1],Oe=Object(o.useState)(!0),ye=Object(i.a)(Oe,2),Se=ye[0],je=ye[1],Te=Object(o.useState)(!1),Pe=Object(i.a)(Te,2),ke=Pe[0],we=Pe[1],Ce=Object(o.useState)(!1),Ae=Object(i.a)(Ce,2),ze=Ae[0],Be=Ae[1];console.log("emailOtp",ee,ce);var Me=Object(o.useState)(""),We=Object(i.a)(Me,2),Ne=We[0],Fe=We[1],Ve=Object(o.useState)({email:""}),Ie=Object(i.a)(Ve,2),Le=Ie[0],Re=(Ie[1],{email:"",mobileNumber:""});console.log("errorMessage",W);var Ze=function(e){return/^(?:(?:\+|0{0,2})91(\s*|[\-])?|[0]?)?([6789]\d{2}([ -]?)\d{3}([ -]?)\d{4})$/.test(e)},_e=T.a().shape(Se?{email:T.c().email("You have entered an invalid email address. Please try again").required("Email address is required").matches("^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$")}:{}),qe=function(){var e=Object(l.a)(r.a.mark((function e(t){var n,l,i,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,j()({method:"PUT",url:B.a.verifyOtp,data:{otp:t.otp,email:ee}});case 4:200===(n=e.sent).data.responseCode&&(S(!1),setTimeout((function(){le("")}),5e3),le(null===(l=n.data)||void 0===l?void 0:l.responseMessage),C.b.success("".concat(n.data.responseMessage," please login")),localStorage.setItem("email",null===(i=n.data)||void 0===i?void 0:i.result.email),a.push("/reset-password")),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),S(!1),setTimeout((function(){Z("")}),5e3),Z(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.responseMessage);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(l.a)(r.a.mark((function e(){var t,a,n,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pe(!0),e.prev=1,e.next=4,j()({method:"POST",url:B.a.resendOtp,data:{email:ee}});case 4:200===(t=e.sent).data.responseCode&&(pe(!1),J(k()().add(5,"m").unix()),S(!1),setTimeout((function(){le("")}),5e3),le(null===(a=t.data)||void 0===a?void 0:a.responseMessage),C.b.success("resend otp succefully")),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(1),pe(!1),S(!1),setTimeout((function(){Z("")}),5e3),Z(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.responseMessage);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Ye=T.a().shape({otp:T.c().max(4,"Only four character OTP are allowed")});return Object(o.useEffect)((function(){if(G&&$){var e=setTimeout((function(){xe(Object(R.a)($))}),1e3);return function(){return clearTimeout(e)}}})),console.log("endTime",$,he),c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,{title:"Forget Password"},c.a.createElement(d.a,{maxWidth:"sm"},c.a.createElement(p.a,{textAlign:"center",mt:5,mb:5},c.a.createElement(b.a,{variant:"h2",style:{color:"rgb(186 184 189)"}},"Forgot Password?"),c.a.createElement(b.a,{variant:"h6",style:{color:"rgb(186 184 189)"}},"Enter your details to receive a rest link")),c.a.createElement(v.a,{className:t.loginBox,elevation:2},c.a.createElement(f.a,{item:!0,xs:8,className:t.donation},c.a.createElement(p.a,null,c.a.createElement("span",{style:{fontSize:"14px",marginRight:"8px"},className:Se?"active":null,onClick:function(){je(!0),we(!1),Be(!1)}},"Email"),c.a.createElement("span",{style:{fontSize:"14px",marginRight:"8px"},className:ke?"active":null,onClick:function(){we(!0),je(!1),Be(!1)}},"Mobile number"))),c.a.createElement(p.a,{textAlign:"center"},c.a.createElement(F.b,{initialValues:Re,initialStatus:{success:!1,successMsg:""},validationSchema:_e,onSubmit:function(){var e=Object(l.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Be(!0),!Ze(ce)&&""===t.email){e.next=16;break}return S(!0),e.prev=3,e.next=6,j()({method:"POST",url:B.a.forgotPassword,data:{email:ke?null===ce||void 0===ce?void 0:ce.slice(Ne.length):t.email}});case 6:200===e.sent.data.responseCode&&(J(k()().add(5,"m").unix()),Be(!1),te(ce?null===ce||void 0===ce?void 0:ce.slice(Ne.length):t.email),H(!0),S(!1),C.b.success("Please check your email for OTP"),window.sessionStorage.setItem("email",t.email)),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(3),Be(!1),S(!1),setTimeout((function(){Z("")}),3e3),Z(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.responseMessage);case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t,a=e.errors,n=e.handleBlur,r=e.handleChange,l=e.touched,i=e.values,o=e.handleSubmit;e.isSubmitting;return c.a.createElement(F.a,{onSubmit:o},c.a.createElement(f.a,{container:!0,direction:"column",spacing:2},Se&&c.a.createElement(f.a,{item:!0},c.a.createElement(g.a,{fullWidth:!0,style:{marginTop:"30px"}},c.a.createElement(E.a,{type:"text",variant:"outlined",size:"small",name:"email",placeholder:"Enter your email",fullWidth:!0,value:i.email,error:Boolean(ze&&Se&&""===Le.email||""!==Le.email&&Se&&(t=Le.email,!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase()))),onBlur:n,onChange:r,InputProps:{startAdornment:c.a.createElement(u.a,{position:"start"},"Kg")}}),c.a.createElement(h.a,{error:!0},l.email&&a.email))),"\xa0",ke&&c.a.createElement(f.a,{item:!0},c.a.createElement(g.a,{fullWidth:!0,style:{marginTop:"12px",marginBottom:"16px"}},c.a.createElement(_.a,{country:"in",name:"mobileNumber",value:ce,error:Boolean(ze&&ke&&!ce||ze&&ke&&!Ze(ce)),onChange:function(e,t){Fe(t.dialCode),se(e)},inputStyle:{borderRadius:"14px",width:"100%",height:"48px",backgroundColor:"rgb(36 37 38)",border:"1px solid #575758"}}),c.a.createElement(h.a,{error:!0},ze&&ke&&""===ce?"Mobile number is a required":""!==ce&&ke&&!Ze(ce)&&"Enter a valid mobile number"))),W&&c.a.createElement(p.a,{textAlign:"start",ml:1,mt:1,style:{color:"#ba1f11",fontWeight:600}},W))," ",c.a.createElement(p.a,{mt:2,mb:3},c.a.createElement(x.a,{type:"submit",variant:"contained",color:"secondary",fullWidth:!0,size:"large",disabled:m},"Send ",m&&c.a.createElement(L.a,null))))})),c.a.createElement(p.a,null,c.a.createElement(O.a,{component:I.b,to:"/signup",style:{display:"flex",alignItems:"center",justifyContent:"center",color:"#E31A89",textDecoration:"none"}},c.a.createElement(N.a,null),"Back to Sign Up"))))),G&&c.a.createElement(A.a,{fullWidth:!0,maxWidth:"sm",open:G},c.a.createElement(M.a,null,c.a.createElement(w.a,{title:"Verify OTP"},c.a.createElement(p.a,{textAlign:"center"},c.a.createElement(b.a,{variant:"h2"},"Verify OTP"),c.a.createElement(p.a,{mt:2},c.a.createElement(b.a,{variant:"h6"},"Please Enter The Verification Code Send To Your Email Address Or Mobile Number"))),c.a.createElement(p.a,{className:"coin_list",elevation:2,style:{padding:"25px",textAlign:"center"}},c.a.createElement(F.b,{onSubmit:function(e){return qe(e)},initialValues:Re,validationSchema:Ye},(function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,r=(e.handleSubmit,e.touched),l=e.values;e.DateOfBirth;return c.a.createElement(F.a,null,c.a.createElement(p.a,{mt:2},c.a.createElement(g.a,{fullWidth:!0},c.a.createElement(y.a,{type:"number",variant:"outlined",placeholder:"Enter your OTP",size:"small",name:"otp",maxLength:"4",error:Boolean(r.otp&&t.otp),onBlur:a,onChange:n,onKeyPress:function(e){"-"!==(null===e||void 0===e?void 0:e.key)&&"+"!==(null===e||void 0===e?void 0:e.key)||e.preventDefault()}}),c.a.createElement(h.a,{error:!0},r.otp&&t.otp)),W&&c.a.createElement(p.a,{textAlign:"left",ml:1,mt:1,style:{color:"#ba1f11",fontWeight:600}},W),re&&c.a.createElement(p.a,{textAlign:"left",ml:1,mt:1,style:{color:"green",fontWeight:600}},re)),l.otp>0&&c.a.createElement(p.a,{mt:3},c.a.createElement(x.a,{type:"submit",variant:"contained",color:"secondary",fullWidth:!0,size:"large",disabled:fe||m},"Verify OTP"," ",m&&c.a.createElement(L.a,null))))})),c.a.createElement(b.a,{variant:"body1",style:{textAlign:"center"}},he&&he.seconds>=0?c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{variant:"body1",style:{color:"#f44336",fontSize:"13px",fontWeight:500,marginTop:"10px"}},"Your OTP will expire in ",null===he||void 0===he?void 0:he.minutes," m :"," ",null===he||void 0===he?void 0:he.seconds," s")," "):c.a.createElement(c.a.Fragment,null,!fe&&c.a.createElement(p.a,{align:"center",mt:5},c.a.createElement("label",{style:{cursor:"pointer"},onClick:De,disabled:de},"Resend OTP"," ",de&&c.a.createElement(L.a,null))," ","\xa0")))))))))}},940:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(932),r=a(1),l=a.n(r),i=a(943);function o(e){var t=e.title,a=e.children;return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a,null,l.a.createElement("title",null,t)),l.a.createElement(n.a,null,a))}}}]);
//# sourceMappingURL=31.6364edf2.chunk.js.map