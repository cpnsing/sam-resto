(this["webpackJsonpsam-resto"]=this["webpackJsonpsam-resto"]||[]).push([[47],{1130:function(e,t,n){"use strict";n.r(t);var r=n(16),a=n.n(r),o=n(31),s=n(12),c=n(1),l=n.n(c),i=n(877),u=n(186),d=n(1302),p=n(32),f=(n(956),n(39)),m=n.n(f),g=n(70),h=n.n(g),v=(n(262),n(76),n(1075)),y=n.n(v),b=Object(i.a)((function(e){return{root:{display:"flex",justifyContent:"center",padding:"10px 0","& .slick-cloned":{display:"none"}}}}));t.default=function(e){var t=e.setOpenCommentBox,n=e.openCommentBoxId,r=b(),i=(Object(p.g)(),Object(p.h)()),f=Object(c.useState)(),g=Object(s.a)(f,2),v=(g[0],g[1]),j=Object(c.useState)(),x=Object(s.a)(j,2),E=x[0],O=x[1],k=function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m()({method:"GET",url:h.a.storyListWithFollowing,headers:{token:window.localStorage.getItem("token")},params:{userId:n}});case 3:200===(t=e.sent).data.responseCode&&O(t.data.result.map((function(e,t){var n;return{url:null===e||void 0===e?void 0:e.story[0],type:(null===e||void 0===e||null===(n=e.story[0])||void 0===n?void 0:n.includes(".mp4"))?"video":"image"}}))),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){if(i.search.substring(1,i.search.length)){var e=i.search.substring(1,i.search.length);v(e)}n&&k()}),[i.search,n]),l.a.createElement(u.a,{pt:3},l.a.createElement(u.a,{display:"flex",justifyContent:"space-between",alignItems:"center",pl:3,pr:3},l.a.createElement("img",{src:"/images/logo.png",alt:"",style:{maxWidth:"180px"}}),l.a.createElement(d.a,{onClick:function(){return t(!1)},style:{cursor:"pointer",fontSize:"30px"}})),l.a.createElement(u.a,{className:r.root},E&&l.a.createElement(y.a,{keyboardNavigation:!0,defaultInterval:5e3,stories:E,onStoryEnd:function(e,t){return console.log("story ended",e,t)},onAllStoriesEnd:function(e,t){return console.log("all stories ended",e,t)},onStoryStart:function(e,t){return console.log("story started",e,t)}})))}}}]);
//# sourceMappingURL=47.583e2ee2.chunk.js.map